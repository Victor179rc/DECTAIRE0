---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

local OnOff = ({"·¥è…¥ | ","·¥è“ì“ì | "})
local toast = ({"ON ‚úÖ","OFF üö´"}) 

local imortalText = OnOff[2]
local imortalNumber = 0

function imortalPve()
    gg.setRanges(gg.REGION_C_ALLOC)
	gg.searchNumber("2.40000009537",gg.TYPE_FLOAT)
	gg.refineAddress("F0", -1, F, gg.SIGN_EQUAL, 0, -1, 0)
	
	if imortalNumber == 0 then
        OffsetToValue(100, 0x120, gg.TYPE_FLOAT, -999, true)
        imortalText = OnOff[1]
        imortalNumber = 1  
        gg.toast(toast[1])
    else
        OffsetToValue(100, 0x120, gg.TYPE_FLOAT, 1.25, true)
        imortalText = OnOff[2]
        imortalNumber = 0
        gg.toast(toast[2])
    end
end

local tempo = 0

function pularTempo()
    local menu = gg.choice({"1h","5h","12h","24h","·¥á·¥Ö…™·¥õ·¥Ä Ä","·¥†·¥è ü·¥õ·¥Ä Ä"}, nil, "Use essa fun√ß√£o para pular o tempo das miss√µes do jogo")
    
    if menu == 1 then
        gg.timeJump(3600)
        tempo = "1h"
    elseif menu == 2 then
        gg.timeJump(18000)
        tempo = "5h"
    elseif menu == 3 then
        gg.timeJump(43200)
        tempo = "12h"
    elseif menu == 4 then
        gg.timeJump(86400)
        tempo = "24h"
	elseif menu == 5 then 
		local input = gg.prompt({"Exemplo: 1 hora = 3600 segundos"}, {3600}, {"number"})
		if input and input[1] and tonumber(input[1]) then
			gg.timeJump(tonumber(input[1]))
			tempo = input[1] .. "s"
			gg.toast("Tempo pulado para " .. input[1] .. " segundos")
		else
			pularTempo()
		end
	elseif menu == 6 then START()
	end
end

local speedGlobalNumber = 1

function speedGlobal()
    local menu = gg.choice({"1x","5x","10x","50x","·¥†·¥è ü·¥õ·¥Ä Ä"}, nil, "10x e 50x pode causar bug ao sair do mapa")
	if menu == 1 then
	    gg.setSpeed(1)
	    speedGlobalNumber = 1
	elseif menu == 2 then
	    gg.setSpeed(5)
	    speedGlobalNumber = 5
	elseif menu == 3 then
	    gg.setSpeed(10)
	    speedGlobalNumber = 10
	elseif menu == 4 then
	    gg.setSpeed(50)
	    speedGlobalNumber = 50
	elseif menu == 5 then
	    START()
	end
end

local rgbNumber = 0
local rgbText = OnOff[2]

function rgb()
    if rgbNumber == 0 then
        gg.setRanges(gg.REGION_CODE_APP)
        gg.searchNumber("128",gg.TYPE_FLOAT)
        gg.refineAddress("8", -1, F, gg.SIGN_EQUAL, 0, -1, 0)
        OffsetToValue(100, -0x4, gg.TYPE_FLOAT, 9999777, true)
        rgbNumber = 1
        rgbText = OnOff[1]
    else
        gg.setRanges(gg.REGION_CODE_APP)
        gg.searchNumber("128",gg.TYPE_FLOAT)
        gg.refineAddress("8", -1, F, gg.SIGN_EQUAL, 0, -1, 0)
        OffsetToValue(100, -0x4, gg.TYPE_FLOAT, 255, true)
        rgbNumber = 0
        rgbText = OnOff[2]
    end
end

local saturacao = 1

function darkWorld()
    gg.setRanges(gg.REGION_C_ALLOC)
    local input = gg.prompt({"Ex: 0,5"}, {saturacao}, {"number"})
	if input and input[1] and tonumber(input[1]) then
		saturacao = tonumber(input[1])
		gg.searchNumber("1,038,147,283", gg.TYPE_DWORD)
	else
		START()
	end
    OffsetToValue(10, -0xC, gg.TYPE_FLOAT, saturacao + 0.01, true)
end

function OffsetToValue(resultados, offset, tipo, valor, congelar)
	local results = gg.getResults(resultados)
	
	if #results > 0 then
        for i, v in ipairs(results) do
            v.address = v.address + offset
            v.value = valor
            v.flags = tipo
            v.freeze = congelar or false
        end
	    gg.addListItems(results)
	    gg.getListItems(100)
	    gg.clearResults()
	    gg.clearList()
    else
        gg.alert("‚ö†Ô∏è Nenhum resultado encontrado. Se o problema persistir, me envie uma mensagem informando qual op√ß√£o voc√™ tentou ativar.")
    end
end


local sair = 0

local New = gg.alert("‚ö†Ô∏è Aten√ß√£o ‚ö†Ô∏è\n\nDevido a alguns relatos de banimento de contas, o script ficar√° indispon√≠vel temporariamente.\n\nSe voc√™ estiver jogando WildCraft em um ambiente virtual (KGO, Parallel space...), recomendo que voc√™ baixe os dados de sua conta no celular normal e apague o WildCraft do ambiente virtual.")
os.exit()

gg.clearResults()
gg.clearList()

local credit = "‡º∫‡øà‰∫ó| Script criado por: @v1ct0r_w.c |‰∫ó‡øà‡ºª"
local borda = {e = "‡º∫‡øà ", d = " ‡øà‡ºª"}

function personalizar()
	local input = gg.prompt({"Borda esquerda:", "Borda direita:"}, {borda.e, borda.d}, {"text", "text"})
	if input == nil then
		gg.toast("Cancelado")
	else
		borda.e, borda.d = input[1].." "," "..input[2]
	end
	START()
end

function START()
	gg.setRanges(gg.REGION_C_ALLOC)
    local menu = gg.choice({
		borda.e .. imortalText.."…™·¥ç·¥è Ä·¥õ·¥Ä ü ·¥ò·¥†·¥á" .. borda.d, -- 1
		borda.e .. tempo.." | ·¥ò·¥ú ü·¥Ä Ä ·¥õ·¥á·¥ç·¥ò·¥è" .. borda.d, -- 2
		borda.e .. speedGlobalNumber.."x | s·¥ò·¥á·¥á·¥Ö ·¥è“ì“ì ü…™…¥·¥á" .. borda.d, -- 3
		borda.e .. rgbText .. "·¥ç·¥ú…¥·¥Ö·¥è  Ä…¢ ô" .. borda.d, -- 4
		borda.e .. saturacao .. " | ·¥Ö·¥Ä Ä·¥ã ·¥°·¥è Ä ü·¥Ö" .. borda.d, -- 5
		borda.e .. "·¥ò·¥á Äs·¥è…¥·¥Ä ü…™·¥¢·¥Ä Ä" .. borda.d, -- 6
		borda.e .. "s·¥Ä…™ Ä" .. borda.d -- 7
	}, nil, credit)
	
	if menu == 1 then imortalPve()
	elseif menu == 2 then pularTempo()
	elseif menu == 3 then speedGlobal()
	elseif menu == 4 then rgb()
	elseif menu == 5 then darkWorld()
	elseif menu == 6 then personalizar()
	elseif menu == 7 then sair = 1
	elseif menu == nil then gg.hideUiButton()
	end
end

while true do
    if gg.isVisible(true) then
        gg.setVisible(false)
        START()
    end
    
    if sair == 1 then
        print("Script finalizado.")
        break
    end
    gg.sleep(100)
end
